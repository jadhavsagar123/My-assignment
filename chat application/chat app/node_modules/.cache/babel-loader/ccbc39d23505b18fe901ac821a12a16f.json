{"ast":null,"code":"var _jsxFileName = \"F:\\\\My Assignment\\\\chat application\\\\chat app\\\\src\\\\components\\\\Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { User } from \"./Join\";\nimport socketIo from \"socket.io-client\";\nimport \"./Chat.css\";\nimport Message from \"./Message\";\nimport ReactScrollToBottom from 'react-scroll-to-bottom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet socket;\nconst ENDPOINT = \"https://gentle-journey-27047.herokuapp.com/\";\n\nconst Chat = () => {\n  _s();\n\n  const [messages, setMessages] = useState([]);\n  const [id, setId] = useState('');\n  useEffect(() => {\n    socket = socketIo(ENDPOINT, {\n      transports: [\"websocket\"]\n    });\n    socket.on(\"connect\", () => {\n      setId(socket.id);\n    });\n    socket.emit('joined', {\n      User\n    });\n    socket.on('welcome', data => {\n      setMessages([...messages, data]);\n      console.log(data);\n    });\n    socket.on('userJoined', data => {\n      setMessages([...messages, data]);\n    });\n    socket.on('leave', data => {\n      setMessages([...messages, data]);\n    });\n    return () => {\n      socket.emit('disconnect');\n      socket.off();\n    };\n  }, []);\n\n  const handleClick = () => {\n    const message = document.getElementById('input').value;\n    socket.emit('message', {\n      message,\n      id\n    });\n    document.getElementById('input').value = '';\n  };\n\n  useEffect(() => {\n    socket.on('sendMessage', data => {\n      setMessages([...messages, data]);\n    });\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Cat Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://www.pngmart.com/files/3/Cancel-Button-PNG-Photos.png\",\n            alt: \"close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactScrollToBottom, {\n        className: \"chat-box\",\n        children: messages.map((item, i) => /*#__PURE__*/_jsxDEV(Message, {\n          message: item.message,\n          user: item.id === id ? '' : item.User,\n          classs: item.id === id ? 'right' : 'left'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"input\",\n          onKeyUp: event => event.key === 'Enter' ? handleClick() : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: handleClick,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://th.bing.com/th/id/R.b85740aaeaa6935fc07911e29b72316b?rik=t7hNnff6EfVexg&riu=http%3a%2f%2fcdn.onlinewebfonts.com%2fsvg%2fimg_85498.png&ehk=AGZ8Y2tu%2fZtndIAiVTEcq0Sf0fx%2bbNIvZthlnyDv8w4%3d&risl=&pid=ImgRaw&r=0\",\n            alt: \"send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Chat, \"QPTN/adjeAPm9DLTjdzdhbSbfh8=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","User","socketIo","Message","ReactScrollToBottom","socket","ENDPOINT","Chat","messages","setMessages","id","setId","transports","on","emit","data","console","log","off","handleClick","message","document","getElementById","value","map","item","i","event","key"],"sources":["F:/My Assignment/chat application/chat app/src/components/Chat.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { User } from \"./Join\";\r\nimport socketIo from \"socket.io-client\";\r\nimport \"./Chat.css\";\r\nimport Message from \"./Message\";\r\nimport ReactScrollToBottom from 'react-scroll-to-bottom'\r\n\r\nlet socket;\r\nconst ENDPOINT = \"https://gentle-journey-27047.herokuapp.com/\";\r\n\r\nconst Chat = () => {\r\n  const [messages,setMessages] =useState([])\r\n  const [id,setId] =useState('')\r\n\r\n \r\n  useEffect(() => {\r\n    socket = socketIo(ENDPOINT, { transports: [\"websocket\"] });\r\n    socket.on(\"connect\", () => {\r\n      setId(socket.id)\r\n    });\r\n\r\n    socket.emit('joined',{User})\r\n    \r\n    socket.on('welcome',(data)=>{\r\n      setMessages([...messages,data])\r\n      console.log(data)\r\n        \r\n    })\r\n\r\n    socket.on('userJoined',(data)=>{\r\n      setMessages([...messages,data])\r\n        \r\n  })\r\n\r\n  socket.on('leave',(data)=>{\r\n    setMessages([...messages,data])\r\n  })\r\nreturn ()=>{\r\n    socket.emit('disconnect');\r\n    socket.off();\r\n}\r\n  \r\n  }, []);\r\n\r\n \r\n\r\n  const handleClick =()=>{\r\n    const message=document.getElementById('input').value;\r\n    socket.emit('message',{message,id})\r\n    document.getElementById('input').value=''\r\n  }\r\n\r\n  useEffect(()=>{\r\n    socket.on('sendMessage',(data)=>{\r\n      setMessages([...messages,data])\r\n      \r\n    })\r\n  },[messages])\r\n  return (\r\n    <div className=\"chat-page\">\r\n      <div className=\"chat-container\">\r\n        <div className=\"header\">\r\n          <h1>Cat Chat</h1>\r\n          <a href=\"/\"> <img src=\"https://www.pngmart.com/files/3/Cancel-Button-PNG-Photos.png\" alt=\"close\" /></a>\r\n        </div>\r\n        <ReactScrollToBottom className=\"chat-box\">\r\n            {messages.map((item,i)=> \r\n            <Message message={item.message} user={item.id===id?'':item.User} classs={item.id===id?'right':'left'}/>\r\n          )}\r\n        </ReactScrollToBottom>\r\n        <div className=\"input-box\">\r\n          <input type=\"text\"  id='input'  onKeyUp={(event)=> event.key==='Enter'?handleClick():null} />\r\n          <button className=\"btn\" onClick={handleClick}>\r\n            <img\r\n              src=\"https://th.bing.com/th/id/R.b85740aaeaa6935fc07911e29b72316b?rik=t7hNnff6EfVexg&riu=http%3a%2f%2fcdn.onlinewebfonts.com%2fsvg%2fimg_85498.png&ehk=AGZ8Y2tu%2fZtndIAiVTEcq0Sf0fx%2bbNIvZthlnyDv8w4%3d&risl=&pid=ImgRaw&r=0\"\r\n              alt=\"send\"\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;"],"mappings":"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"},"metadata":{},"sourceType":"module"}